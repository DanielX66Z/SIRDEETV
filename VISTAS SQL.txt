
/* Vista para la bitacora laboratorio */
CREATE OR REPLACE VIEW VW_BITACORA_LAB AS
SELECT * 
FROM INV_VECTOR
JOIN BITACORA_LAB USING (ID_INV_VECTOR)
JOIN LOTE USING (COD_BIT_LAB)
JOIN MUESTRA USING(ID_LOTE)
JOIN TIPO_MUESTRA USING(ID_TIPO_MUES)
JOIN BITACORA_CAMPO USING (ID_BIT_CAMPO,ID_INV_VECTOR)
JOIN UBICACION USING (ID_BIT_CAMPO)
JOIN CACERIO USING (ID_CACERIO)
JOIN COLONIA_CANTON USING (ID_COL_CAN)
JOIN MUNICIPIO USING (COD_MUNICIPIO)
JOIN DEPARTAMENTO USING (COD_DEPTO);


DROP VIEW VW_SHOW_BIT_LAB;
/* Vista para metodo mostrar en la bitacora laboratorio */
CREATE OR REPLACE VIEW VW_SHOW_BIT_LAB AS
SELECT DISTINCT *
FROM BITACORA_LAB bitl JOIN
( LOTE 
LEFT JOIN MUESTRA USING(ID_LOTE)
LEFT JOIN TIPO_MUESTRA USING(ID_TIPO_MUES)
LEFT JOIN BITACORA_CAMPO USING (ID_BIT_CAMPO)
LEFT JOIN UBICACION USING (ID_BIT_CAMPO)
LEFT JOIN CACERIO USING (ID_CACERIO)
LEFT JOIN COLONIA_CANTON USING (ID_COL_CAN)
LEFT JOIN MUNICIPIO USING (COD_MUNICIPIO)
LEFT JOIN DEPARTAMENTO USING (COD_DEPTO)
) USING (COD_BIT_LAB,id_inv_vector);


select * from VW_SHOW_BIT_LAB;